<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .node-rect { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .node-rect-orange { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .node-rect-purple { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
      .node-rect-green { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: #333; }
      .text-small { font-family: Arial, sans-serif; font-size: 12px; fill: #666; }
    </style>
  </defs>
  
  <!-- 背景 -->
  <rect x="10" y="10" width="780" height="580" fill="#f8f9fa" stroke="#e9ecef" stroke-width="1"/>
  
  <!-- 标题 -->
  <text x="400" y="35" text-anchor="middle" class="text" font-weight="bold">Agent系统架构图</text>
  
  <!-- Agent协调器 -->
  <rect x="350" y="80" width="100" height="40" class="node-rect"/>
  <text x="400" y="105" text-anchor="middle" class="text">Agent协调器</text>
  
  <!-- 意图识别 -->
  <rect x="350" y="140" width="100" height="40" class="node-rect"/>
  <text x="400" y="165" text-anchor="middle" class="text">意图识别器</text>
  
  <!-- 五个专业Agent -->
  <rect x="100" y="220" width="120" height="40" class="node-rect-orange"/>
  <text x="160" y="245" text-anchor="middle" class="text-small">通用客服Agent</text>
  
  <rect x="240" y="220" width="120" height="40" class="node-rect-orange"/>
  <text x="300" y="245" text-anchor="middle" class="text-small">账户专员Agent</text>
  
  <rect x="380" y="220" width="120" height="40" class="node-rect-orange"/>
  <text x="440" y="245" text-anchor="middle" class="text-small">转账专员Agent</text>
  
  <rect x="520" y="220" width="120" height="40" class="node-rect-orange"/>
  <text x="580" y="245" text-anchor="middle" class="text-small">理财专员Agent</text>
  
  <rect x="660" y="220" width="120" height="40" class="node-rect-orange"/>
  <text x="720" y="245" text-anchor="middle" class="text-small">贷款专员Agent</text>
  
  <!-- 知识库检索 -->
  <rect x="350" y="300" width="100" height="40" class="node-rect-purple"/>
  <text x="400" y="325" text-anchor="middle" class="text">知识库检索</text>
  
  <!-- RAG生成器 -->
  <rect x="350" y="360" width="100" height="40" class="node-rect-purple"/>
  <text x="400" y="385" text-anchor="middle" class="text">RAG生成器</text>
  
  <!-- 响应优化器 -->
  <rect x="350" y="420" width="100" height="40" class="node-rect-purple"/>
  <text x="400" y="445" text-anchor="middle" class="text">响应优化器</text>
  
  <!-- 最终回复 -->
  <rect x="350" y="480" width="100" height="40" class="node-rect-green"/>
  <text x="400" y="505" text-anchor="middle" class="text">最终回复</text>
  
  <!-- 用户界面 -->
  <rect x="600" y="480" width="100" height="40" class="node-rect-green"/>
  <text x="650" y="505" text-anchor="middle" class="text">用户界面</text>
  
  <!-- 数据源 -->
  <rect x="50" y="420" width="100" height="40" fill="#fff8e1" stroke="#f9a825" stroke-width="2"/>
  <text x="100" y="445" text-anchor="middle" class="text-small">向量数据库</text>
  
  <rect x="170" y="420" width="100" height="40" fill="#fff8e1" stroke="#f9a825" stroke-width="2"/>
  <text x="220" y="445" text-anchor="middle" class="text-small">银行知识库</text>
  
  <rect x="290" y="420" width="100" height="40" fill="#fff8e1" stroke="#f9a825" stroke-width="2"/>
  <text x="340" y="445" text-anchor="middle" class="text-small">业务规则库</text>
  
  <!-- 连接线 -->
  <!-- 协调器到意图识别 -->
  <path d="M 400 120 L 400 140" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- 意图识别到各个Agent -->
  <path d="M 400 180 L 160 220" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 400 180 L 300 220" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 400 180 L 440 220" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 400 180 L 580 220" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 400 180 L 720 220" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Agent到知识库检索 -->
  <path d="M 160 260 L 380 300" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 300 260 L 390 300" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 440 260 L 400 300" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 580 260 L 410 300" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 720 260 L 420 300" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- 数据源到知识库检索 -->
  <path d="M 100 420 L 370 340" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <path d="M 220 420 L 380 340" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  <path d="M 340 420 L 390 340" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
  
  <!-- 流程链 -->
  <path d="M 400 340 L 400 360" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 400 400 L 400 420" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 400 460 L 400 480" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 450 500 L 600 500" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- 箭头定义 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- 图例 -->
  <text x="50" y="550" class="text-small" font-weight="bold">图例：</text>
  <rect x="120" y="540" width="15" height="15" class="node-rect"/>
  <text x="140" y="552" class="text-small">协调层</text>
  
  <rect x="200" y="540" width="15" height="15" class="node-rect-orange"/>
  <text x="220" y="552" class="text-small">Agent层</text>
  
  <rect x="290" y="540" width="15" height="15" class="node-rect-purple"/>
  <text x="310" y="552" class="text-small">处理层</text>
  
  <rect x="380" y="540" width="15" height="15" class="node-rect-green"/>
  <text x="400" y="552" class="text-small">输出层</text>
</svg>